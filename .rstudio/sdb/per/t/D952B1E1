{
    "collab_server" : "",
    "contents" : "library(data.table)\nlibrary(plyr)\n\ndf <- data.frame(x = c(1,2,3,4,5,6), index = c('a', 'a', 'b', 'b', 'c', 'c'))\n\ndt <- data.table(df)\n\nplyr <- function() ddply(df, .(index), transform, z = x / sum(x))\nav <- function() ave(df$x, df$index, FUN = function(z) z/sum(z))\nt.apply <- function() unlist(tapply(df$x, df$index, function(x) x/sum(x)))\nl.apply <- function() unlist(lapply(split(df$x, df$index), function(x){x/sum(x)}))\nb.y <- function() unlist(by(df$x, df$index, function(x){x/sum(x)}))\nagg <- function() aggregate(df$x, list(df$index), function(x){x/sum(x)})\nd.t <- function() dt[, x/sum(x), by = index]\n\nlibrary(rbenchmark)\nbenchmark(plyr(), av(), t.apply(), l.apply(), b.y(), agg(), d.t(), \n          replications = 1000, \n          columns = c(\"test\", \"elapsed\", \"relative\"),\n          order = \"elapsed\")\n",
    "created" : 1480337116349.000,
    "dirty" : false,
    "encoding" : "UTF-8",
    "folds" : "",
    "hash" : "1040404562",
    "id" : "D952B1E1",
    "lastKnownWriteTime" : 1480338132,
    "last_content_update" : 1480338132510,
    "path" : "~/r20130726.004.bench.R",
    "project_path" : null,
    "properties" : {
    },
    "relative_order" : 5,
    "source_on_save" : false,
    "source_window" : "",
    "type" : "r_source"
}